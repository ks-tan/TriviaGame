<!DOCTYPE html>

<html>

  <head>
    <title>Trivia Game</title>
    <script src="/socket.io/socket.io.js"></script>
  </head>

  <body>
    <div id = "container"></div>
  </body>

  <script>
    const socket = io.connect('http://localhost:5000');
    let container =  document.getElementById('container');

    socket.on('onConnection', function (data) {
      container.innerHTML +=
        '<h4>' + data.message + '</h4>' + 
        '<form action="javascript:clientReigster();">' +
          'Enter your name: <input type="text" name="clientName" id="clientNameRegister"> <br>' +
          '<input type="submit" value="Submit">' +
        '</form>';
    });

    function clientReigster() {
      const clientName = document.getElementById('clientNameRegister').value;
      socket.emit('onClientRegister', {clientName: clientName});
    }

    socket.on('onNewQuestion', function (data) {
      container.innerHTML = '<h4>' + data.triviaObject.q + '</h4>';
    });
  </script>

</html>